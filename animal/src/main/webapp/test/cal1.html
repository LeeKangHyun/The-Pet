<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <title>달력</title>
  <link rel='stylesheet' href='../lib/fullcalendar/fullcalendar.css' />
  <link rel='stylesheet' tpye='text/css' href='../lib/fullcalendar/fullcalendar.print.css'
  media='print' />
  <link href="../lib/bootstrap/css/bootstrap.min.css" rel='stylesheet' type='text/css'
  />

  <script src="../lib/bootstrap/bootstrap.min.js"></script>
  <script src='../lib/jquery/jquery.min.js'></script>
  <script src='../lib/moment/moment.min.js'></script>
  <script src='../lib/fullcalendar/fullcalendar.min.js'></script>
  <script src='../lib/fullcalendar/lang/ko.js'></script>

  <script src='../lib/bootstrap/js/modal.js'></script>
</head>

<body>

  <table border="1" align="center">
    <tr>
      <td>
        <h2>달력이라고해</h2>
      </td>
      <td>
        <div id='calendar' style="width:650px; height:650px;"></div>

      </td>
    </tr>
  </table>
  <button type="button" id="my-button">버튼이야</button>
  <button type="button" id="my-today-button">Today</button>

  <div id="fullCalModal" class="modal fade">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">×</span> <span class="sr-only">close</span></button>
                <h4 id="modalTitle" class="modal-title"></h4>
            </div>
            <div id="modalBody" class="modal-body"></div>
            <div id="modalStart" class="modal-body"></div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                <button class="btn btn-default"><a id="eventUrl" target="_blank">Event Page</a></button>
            </div>
        </div>
    </div>
</div>

  <script>
    $(document).ready(function() {
      // page is now ready, initialize the calendar...
      function renderCalendar() {
        $('#calendar').fullCalendar({
          header: {
            left: 'prev',
            center: 'prevYear title nextYear today',
            right: 'next'
          },
          theme: false, // false : 태마 적용 안함
          // themeButtonIcons: {
          //   prev: 'circle-triangle-w',
          //   next: 'circle-triangle-e',
          //   prevYear: 'seek-prev',
          //   nextYear: 'seek-next'
          // },
          fixedWeekCount: false, // true 항상 6주로 표시, false 매 달에 따라 주의 수가 유동적
          weekNumbers: false, // 달력 맨앞에 그해의 몇주차인지 나오는거 false하면 안나옴
          editable: false, // false : 달력 내에 이밴트들 드래그로 이동 불가
          eventLimit: true, // allow "more" link when too many events
          events: [{
            title: 'All Day Event',
            start: '2015-12-01',
            color: 'red'
          }, {
            title: 'Long Event',
            start: '2015-12-07',
            end: '2015-12-10',
            color: 'orange'
          }, {
            // id: 999,
            title: 'Repeating Event',
            start: '2015-12-09T16:00:00',
            color: 'green'
          }, {
            title: 'Conference',
            start: '2015-12-11',
            end: '2015-12-13',
            color: 'blue'
          }, {
            title: 'Meeting',
            start: '2015-12-12T10:30:00',
            end: '2015-12-13T12:30:00',
            color: 'orange'
          }, {
            title: 'Lunch',
            start: '2015-12-12T12:00:00',
            color: 'red'
          }, {
            title: 'Meeting',
            start: '2015-12-12T14:30:00',
            color: 'orange'
          }, {
            title: 'Happy Hour',
            start: '2015-12-12T17:30:00',
            color: 'blue'
          }, {
            title: 'Dinner',
            start: '2015-12-12T20:00:00',
            description: "<p>This is just a fake description for the Free Pizza.</p>"
          }, {
            title: 'Birthday Party',
            start: '2015-12-13T07:00:00',
            color: 'blue',
            description: "<p>This is just a fake description for the Free Pizza.</p><p>Nothing to see!</p>"
          }],

          eventRender: function(event, element) {
            element.attr('title', event.tooltip);
          },
          timeFormat: 'H:mm',

          //달력에서 일정 눌렀을 때 조그만창에 결과 나오는 부분
          eventClick:  function(event, jsEvent, view) {
            $('#modalTitle').html(event.title);
            $('#modalBody').html('des: ' + event.description);
            $('#modalStart').html('start: ' + event.start.format())
            $('#fullCalModal').modal();
        }
            //   ,
            //
            //   eventClick: function(calEvent, jsEvent, view) {
            //
            //     if (calEvent.end) {
            //       alert('title : ' + calEvent.title + '\nstart : ' +
            //         calEvent.start.format() + '\nend : ' + calEvent.end
            //         .format() + '\ntag color : ' + calEvent.color);
            //     } else {
            //       alert('title : ' + calEvent.title + '\nstart : ' +
            //         calEvent.start.format() + '\ntag color : ' +
            //         calEvent.color);
            //     }
            //
            //     // change the border color just for fun
            //     //$(this).css('border-color', 'red'); // 이거설정하면 이벤트 클릭했을때 이벤트 태두리색생김
            //   }

        });
      }

      renderCalendar();
    });

    // 현재 보고있는 달력의 년도 월 일 (시간00)을 알려준다.
    $('#my-button').click(function() {
      var moment = $('#calendar').fullCalendar('getDate');
      alert("The current date of the calendar is " + moment.format());
    });

    // 버튼으로 만들어서 누르면 현재 날짜로 이동한다.
    $('#my-today-button').click(function() {
      $('#calendar').fullCalendar('today');
    });
  </script>
</body>

</html>
