<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>Slid Menu</title>
  <!--  내가만든 css들  -->
  <link href="css/sh_slidmenu_header.css" type="text/css" rel="stylesheet" />
  <link href="css/sh_animals.css" type="text/css" rel="stylesheet" />
  <link href="css/sh_login.css" type="text/css" rel="stylesheet" />

  <!--  폰트아이콘 링크  -->
  <link href="lib/font-awesome/css/font-awesome.min.css" rel="stylesheet" />
  <link href="css/icon-font.min.css" rel="stylesheet" />

  <link href="lib/bootstrap/dist/css/bootstrap.css" rel='stylesheet' type='text/css'
  />

  <!--  파일 업로드  -->
  <link href="css/sh_file_upload.css" rel="stylesheet" type="text/css" />
  <script>
    (function(e, t, n) {
      var r = e.querySelectorAll("html")[0];
      r.className = r.className.replace(/(^|\s)no-js(\s|$)/, "$1js$2")
    })
    (document, window, 0);
  </script>

  <!--  <script src="js/jquery.cookie.js"></script>-->

  <!-- 캘린더 스크립트 -->
  <script src="lib/bootstrap/dist/js/bootstrap.js"></script>
  <script src='lib/jquery/jquery.min.js'></script>
  <script src='lib/bootstrap/js/modal.js'></script>

  <!--[if IE]>
  		<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->

</head>

<body>
  <!--<body style="background-color:black;">-->
  <header>
    <div id="header_title">
      <a class="headerTitle" href="pet.html">THE PET</a>
    </div>
  </header>

  <section>

    <!--  메뉴 버튼  -->
    <input type="checkbox" id="menuToggle" />

    <div class="menu">
      <label for="menuToggle" class="menu-icon"><i class="fa fa-bars fa-lg"></i></label>
      <!--  메뉴 내용  -->

      <nav class="menu-nav">
        <ul class="menu-nav-ul">
          <li><a href="#"><i class="lnr lnr-pencil"></i> 교육</a></li>
          <li><a href="#"><i class="lnr lnr-store"></i> 분양</a></li>
          <li><a href="#"><i class="lnr lnr-heart"></i> 짝짓기</a></li>
          <li><a href="#"><i class="lnr lnr-leaf"></i> 산책코스</a></li>
          <li><a href="boastBoard.html"><i class="lnr lnr-paw"></i> 자랑해요</a></li>
        </ul>
      </nav>
      <!--  //메뉴 내용  -->
    </div>

  </section>

  <section>
    <div class="main-body">

      <div class="dog">
        <div class="dog_ear left"></div>
        <div class="dog_ear right"></div>
        <div class="dog_eye_right"></div>
        <div class="dog_eye"></div>
        <div class="dog_eye"></div>
        <div class="dog_mouth_2"></div>
        <div class="dog_nose"></div>
        <div class="dog_mouth"></div>
      </div>

      <div class="container">

        <h3 class="sign-in">로그인</h3>
        <a data-toggle="modal" data-target="#registerModal" class="button" role="button">회원가입</a>

        <form>

          <div class="group1">
            <input name="mEmail" id="lmEmail" class="iput" type="text" required>
            <span class="highlight"></span>
            <span class="bar"></span>
            <label class="lname">EMAIL</label>
          </div>

          <div class="group2">
            <input name="password" id="lpassword" class="iput" type="password" required>
            <span class="highlight"></span>
            <span class="bar"></span>
            <label class="lname">PASSWORD</label>
          </div>

          <div class="saveEmail">Remember me</div>

          <div class="switch">
            <input type="checkbox" name="saveEmail" id="lsaveEmail">
            <label for="saveEmail">
              <span class="fa fa-check"></span>
              <span class="fa fa-times"></span>
              <div></div>

            </label>
          </div>

          <input type="button" id="loginBtn" value="로그인" />

        </form>

        <div class="cat">
          <div class="cat_eye_left"></div>
          <div class="cat_eye_right"></div>
          <div class="cat_ear left"></div>
          <div class="cat_ear right"></div>
          <div class="cat_eye_l"></div>
          <div class="cat_eye_in_l"></div>
          <div class="cat_eye_r"></div>
          <div class="cat_eye_in_r"></div>
          <div class="cat_nose"></div>
          <div class="cat_mouth"></div>
          <div class="cat_mouth_tooth"></div>
        </div>

        <p class="footer">

        </p>

      </div>

    </div>
  </section>

  <!-- 회원가입 구간 -->

  <div class="modal fade" id="registerModal" role="dialog">
    <div class="modal-dialog">
      <div class="modal-content">

        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">
            <span aria-hidden="true">&times;</span>
            <span class="sr-only">Close</span>
          </button>
          <h3 class="modal-title" id="lineModalLabel">회원가입</h3>
        </div>

        <div class="modal-body">

          <form action="member/ajax/add.do" method="post">
            <div class="panel panel-default">

              <div class="panel-body">
                <div id="emailForm" class="form-group has-feedback">
                  <label for="mEmail">이메일</label>
                  <input type="email" id="mEmail" name="mEmail" class="form-control" pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,3}$"
                  title="이메일 형식에 맞춰주세요" placeholder="이메일을 입력해주세요" autofocus="true"
                  required>
                  <input type="button" id="checkEmail" value="중복확인">
                </div>

                <hr>
                <div id="rpasswordForm" class="form-group has-feedback">
                  <label for="password">비밀번호</label>
                  <input type="password" class="form-control" id="password" name="password" pattern="(?=.*\d)(?=.*[a-z])(?=.*[!@#$%^&*-_=+]).{3,20}"
                  title="숫자, 영문 대/소문자, 특수문자 각 한자이상 필수 최대8~20자" placeholder="비밀번호를 입력하세요."
                  required>
                </div>

                <div id="password2Form" class="form-group has-feedback">
                  <label for="password2">비밀번호 재입력</label>
                  <input type="password" class="form-control" id="password2" name="password2" placeholder="비밀번호를 재입력하세요."
                  onchange="checkPW();" required>
                  <div class="control-label" id="password2Msg" style="display: none;"></div>
                </div>

                <hr>
                <div id="playerNameForm" class="form-group has-feedback">
                  <label for="playerName">이름</label>
                  <input type="text" class="form-control" id="mName" name="mName" maxlength="20" autofocus="true"
                  placeholder="이름을 입력하세요." required>
                </div>

                <div id="phoneForm" class="form-group has-feedback">
                  <label for="tel">휴대전화번호</label>
                  <input type="text" class="form-control" id="tel" name="tel" placeholder="휴대전화번호를 입력해주세요 (예) 010-1234-5678"
                  required>
                </div>

                <div class="box">
                  <input type="file" name="mImg" id="file-1" class="inputfile inputfile-1" />
                  <label for="file-1">
                    <i class="fa fa-upload"></i>
                    <span>프로필 이미지 추가</span>
                  </label>
                </div>

                <hr>
                <div class="form-group">
                  <input type="submit" id="joinBtn" class="form-control btn btn-primary" value="가입하기"
                  disabled>
                  <!-- 가입</button>-->
                </div>
              </div>

            </div>
          </form>

        </div>
      </div>
    </div>
  </div>
  <!-- /회원가입 구간 -->

  <!-- 파일 업로드 파일 이름뜨는부분 -->
  <script src="js/sh_custom-file-input.js"></script>

  <!--  중복확인 스크립트  -->
  <script>
    $('#checkEmail').click(function(event) {
      $.post('member/ajax/checkEmail.do', {
        mEmail: $('#mEmail').val(),
      }, function(resultObj) {
        if ($('#mEmail').val() == "") {
          alert("이메일을 입력해주세요")
          document.getElementById("joinBtn").disabled = true;
          return false;
        }
        var ajaxResult = resultObj.ajaxResult;
        if (ajaxResult.status == "success") {
          alert("사용불가")
          document.getElementById("joinBtn").disabled = true;
        } else {
          alert("사용가능")
          document.getElementById("joinBtn").disabled = false;
        }
      }, 'json');
    });
  </script>

  <!--  회원가입 스크립트  -->
  <!--
<script>
$('#joinBtn').click(function(event) {
	$.post('member/ajax/add.do', {
		mEmail: $('#mEmail').val(),
	  password: $('#password').val(),
	  mName: $('#mName').val(),
	  tel: $('#tel').val(),
	  mImg: $('#file-1').val(),
	}, function(resultObj) {
    var ajaxResult = resultObj.ajaxResult;
		if (ajaxResult.status == "success") {
        alert("회원가입 성공했습니다.")
        location.href = "login.html"
    } else {
      alert("회원가입 실패했습니다.")
    }
	}, 'json');
});
</script>
-->
    
<!--  로그인 스크립트  -->
<script>
$('#loginBtn').click(function(event) {
  if ($('#lsaveEmail'))
	$.post('auth/ajax/login.do', {
		mEmail: $('#lmEmail').val(),
	  password: $('#lpassword').val(),
    saveEmail: $('#lsaveEmail').val()

  }, function(resultObj) {
    var ajaxResult = resultObj.ajaxResult;
    if (ajaxResult.status == "success") {
      alert("로그인에 성공했습니다.")
      location.href = "diary.html"
    } else {
      alert("로그인에 실패했습니다.")
    }
  }, 'json');
});
</script>


  <!--  비밀번호 확인  -->
  <script>
    function checkPW() {
      var PW1 = $("#password").val();
      var PW2 = $("#password2").val();
      var oMsg = $("#password2Msg");
      var oDiv = $("#password2Form");

      if (PW1 == "" || PW1 != PW2) {
        oDiv.removeClass("has-success");
        oDiv.addClass("has-error");
        oMsg.css("display", "block");
        oMsg.html("비밀번호가 일치하지 않습니다.");
        return false;
      }
      oDiv.removeClass("has-error");
      oDiv.addClass("has-success");
      oMsg.css("display", "block");
      oMsg.html("비밀번호가 일치합니다.");
      return true;
    }
  </script>
</body>

</html>
