<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Slid Menu</title>

  <link href="lib/bootstrap/dist/css/bootstrap.css" rel='stylesheet' type='text/css' />

  <!--  내가만든 css들  -->
  <link href="css/sh_slidmenu_header.less" type="style.less" rel="stylesheet/less" />
<!--  <link href="css/sh_slid_checkbox.css" type="text/css" rel="stylesheet" />-->

  <!--  폰트아이콘 링크  -->
  <link href="lib/font-awesome/css/font-awesome.min.css" rel="stylesheet" />
  <link href="css/icon-font.min.css" rel="stylesheet" />

  <!-- 대진 메인 css -->
  <link href="css/dj_main.css" rel="stylesheet"/>
<!--  <script src="css/dj_main.js"></script>-->

  <!-- 캘린더 스크립트 -->
  <script src='lib/jquery/jquery.min.js'></script>
  <script src="lib/bootstrap/dist/js/bootstrap.js"></script>
  <script src="lib/less/less.js" type="text/javascript"></script>
    
  <script src="lib/jquery-session-plugin/jquery.session.js" type="text/javascript"></script>

</head>

<body>
<header id="menu">
    <div id="header_title">
      <a class="headerTitle" href="pet.html">THE PET</a>
      <div id="user_info">
            
      </div>
    </div>
    <!--  메뉴 버튼  -->
    <input type="checkbox" id="menuToggle" />

    <div id="sideMenu">
      <label for="menuToggle" id="menu-icon"><i class="fa fa-bars fa-lg"></i></label>
      <!--  메뉴 내용  -->

      <nav id="menu-nav">
        <ul>
          <li><a href="education.html"><i class="lnr lnr-pencil"></i> 교육</a></li>
          <li><a href="#"><i class="lnr lnr-store"></i> 분양</a></li>
          <li><a href="#"><i class="lnr lnr-heart"></i> 짝짓기</a></li>
          <li><a href="#"><i class="lnr lnr-leaf"></i> 산책코스</a></li>
          <li><a href="boastBoard.html"><i class="lnr lnr-paw"></i> 자랑해요</a></li>
        </ul>
      </nav>
      <!--  //메뉴 내용  -->
    </div>
</header>

  <section>
    <div class="m_content">
      <div class="container" style="margin-left: 0px;">
        <div style="margin-left:-15px;">
          <h1 style="text-align: left">
            <i class="lnr lnr-pencil"></i> 교육
          </h1>
        </div>
      </div>
      
      <div style="text-align:left;">
       <button id="all">All</button>
       <a href="education.html?key=DIV01">강아지</a>
       <button id="div02">고양이</button>
       <button id="div03">물고기</button>
       <button id="div04">새</button>
       <button id="div05">ETC</button>      
      </div>
      
      <table id="listTable" class="table table-hover">
        <thead>
          <tr>
            <th style="text-align: center;">제목</th>
            <th style="text-align: center;">조회수</th>
            <th style="text-align: center;">등록일</th>
            <th style="text-align: center;">구분</th>
          </tr>
        </thead>
      </table>
    </div>
  </section>

  <script type="text/javascript" src="lib/jquery/jquery.js"></script>
  <script>
  
  var key = location.href.split('?')[1].split('=')[1];
  
  switch (key) {
  case 'all' : 
    $.getJSON('education/ajax/list.do', function(resultObj) {
      var table = $("#listTable");
      for (var education of resultObj.data) {
        $("<tr>")
          .html("<td><a class='detailLnk' href='#' eduNo='" 
                    + education.eduNo + "'>" + education.eduTitle + 
                "</a></td><td>" + education.eduViews +
                "</td><td>" + education.eduCreateDate + "</td>"
                + "<td>" + education.eduType + "</td>")
          .appendTo(table);
        console.log(education.eduTitle);
      }
      // 제목 링크에 클릭 이벤트 리스너를 등록한다.
      $("a.detailLnk").click(clickDetailLnk);
    });
    console.log(key); break;
  case 'DIV01' :
    $.getJSON('education/ajax/cate.do', function(resultObj) {
        var table = $("#listTable");
        for (var education of resultObj.data) {
          $("<tr>")
            .html("<td><a class='detailLnk' href='#' eduNo='" 
                      + education.eduNo + "'>" + education.eduTitle + 
                  "</a></td><td>" + education.eduViews +
                  "</td><td>" + education.eduCreateDate + "</td>"
                  + "<td>" + education.eduType + "</td>")
            .appendTo(table);
          console.log(education.eduTitle);
        }
        // 제목 링크에 클릭 이벤트 리스너를 등록한다.
        $("a.detailLnk").click(clickDetailLnk);
      });
    console.log(key); break;
  case 'DIV02' :
    console.log(key); break;
  defalut :
    console.log(key); break;
  }

$('#newBtn').click(function(event){
  location.href = "form.html?no=-1";
});

$('#all').click(function(event) {
  location.href = "education.html?key=all";
});

//게시물 제목을 클릭했을 때 호출될 함수
function clickDetailLnk(event) {
  event.preventDefault(); 
  location.href = "edu_form.html?eduNo=" + $(event.target).attr("eduNo");
}

function clickDivLnk(event) {
  event.preventDefault();
  location.href = "education.html?key=" + $(event.target).attr("eduType");
}
</script>
</body>
</html>