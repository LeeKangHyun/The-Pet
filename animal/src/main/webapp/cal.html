<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <title>캘린더 작업..</title>

  <!-- 캘린더 css -->
  <link rel='stylesheet' href='lib/fullcalendar/fullcalendar.css' />
  <link rel='stylesheet' type='text/css' href='lib/fullcalendar/fullcalendar.print.css'
  media='print' />
  <link href="lib/bootstrap/dist/css/bootstrap.min.css" rel='stylesheet' type='text/css'
  />

  <!-- 캘린더 스크립트 -->
  <script src="lib/bootstrap/dist/js/bootstrap.js"></script>
  <script src='lib/jquery/jquery.min.js'></script>
  <script src='lib/moment/moment.min.js'></script>
  <script src='lib/fullcalendar/fullcalendar.js'></script>
  <script src='lib/fullcalendar/lang/ko.js'></script>

</head>

<body>
  <div id="calendar" style="width: 512px; margin: 50px auto;"></div>


  <!-- <script>
    $.ajax({
      url: 'diary/ajax/events.do',
      dataType: 'json',
      data: {
        mno: "1"
      },
      type: "get",
      success: function(doc) {
        var eve = [];
        $(doc).find('events').each(function() {
          events.push({
            title: $(this).attr('title'),
            start: $(this).attr('start'),
            end: $(this).attr('end'),
            color: $(this).attr('color')
          });
        });
        callback(events);
      }
    });
  </script> -->
  <script>
    $(document).ready(function() {
      $('#calendar').fullCalendar({
        events: function(start, end, timezone, callback) {
          $.ajax({
            url: 'diary/ajax/events.do',
            dataType: 'json',
            data: {
              mno: "1"
            },
            type: "get",
            success: function(doc) {
              var events = [];
              var dos = $(doc).find('events');
              console.log(dos);
              $(doc).find('events').each(function() {
                events.push({
                  title: $(this).attr('title'),
                  start: $(this).attr('start'),
                  end: $(this).attr('end'),
                  color: $(this).attr('color')
                });
              });
              callback(events);
            }
          });
        }
      });

    });
  </script>

</body>

</html>
