<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="pms.dao.PetDao">
	
  <resultMap type="pet" id="petMap">
    <id 	column="PET_NUM" 		property="pno"/>
	<result column="MEM_NUM" 		property="mno"/>    
    <result column="PET_NAME" 		property="pName"/>
    <result column="PET_TYPE" 		property="pType"/>
	<result column="PET_IMG" 		property="pImg"/>
	<result column="TAG_COLOR" 		property="tagColor"/>
	<result column="INJECTION" 		property="injection"/>
	<result column="MEDICINE" 		property="medicine"/>	
 </resultMap>

 <select id="petList" resultMap="petMap" parameterType="int">
  	select
  		p1.pet_num as pno,
  		p1.pet_name as pName,
  		p1.pet_type as pType,
  		p1.pet_img as pImg,
  		p1.tag_color as tagColor,
  		p1.injection as injection,
  		p1.medicine as medicine
  	from pet p1 left outer join member m1 on p1.mem_num = m1.mem_num
  	where p1.mem_num=1
  </select>
 
  <select id="petSelectOne" resultMap="petMap" parameterType="int">
    select * from pet where pno=#{pno}
  </select>
  
  <insert id="insert" parameterType="pet">
    insert into pet(mno,pName,pType,pImg,tagColor,injection,medicine) 
    values(#{mno},#{pName},#{pType},#{pImg},#{tagColor},#{injection},#{medicine})
  </insert>
  
  <delete id="delete" parameterType="int">
    delete from pet 
  	where dno=#{pno}
  </delete>
  
  <update id="update" parameterType="diary">
    update pet set 
      pName=#{pName},
      pType=#{pType},
      pImg=#{pImg},
  	  tagColor=#{tagColor}
  	  injection=#{injection}
  	  medicine=#{medicine}
    where pno=#{pno}
  </update>
  
  
</mapper>






